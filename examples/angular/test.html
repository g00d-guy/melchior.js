<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>AngularJS example - MelchiorJS</title>
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
	<style>
		body {
			background: #F5E0E1;
			padding: 10px 50px;
			font-size: .95em;
		}
	</style>
</head>
<body>

<script src="../../src/melchior.js" type="text/javascript"></script>
<script>
var head = document.getElementsByTagName('head')[0];
var xhr = new XMLHttpRequest();
xhr.open('GET', 'http://ajax.googleapis.com/ajax/libs/angularjs/1.2.24/angular.js');
xhr.onreadystatechange = function () {
	if (xhr.readyState === 4) {
		if (xhr.status === 200) {
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.charset = 'utf-8';
			script.defer = true;
			script.async = true;

			var js = [
				xhr.responseText,
				';melchiorjs.module("',
				'angular',
				'")',
				'.body(function () {',
				' return angular;',
				'});'
			].join('');
			script.text = js;
			head.appendChild(script);
		}
	}
};
xhr.send();
</script>
</body>
</html>
